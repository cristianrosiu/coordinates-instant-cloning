add_library(nativefiledialog "src/nfd_common.c")# "src/nfd_gtk.c" "src/nfd_zenity.c"
# Copied from vcpkg port
if (WIN32)
    enable_language(CXX)
    target_sources(nativefiledialog PRIVATE "src/nfd_win.cpp")
    target_compile_definitions(nativefiledialog PRIVATE _CRT_SECURE_NO_WARNINGS=1)
elseif (${CMAKE_SYSTEM_NAME} MATCHES "Linux")
    if (NFD_GTK_BACKEND)
        find_package(GTK3 QUIET)
        if (GTK3_FOUND)
        	target_sources(nativefiledialog PRIVATE "src/nfd_gtk.c")
        else ()
        	target_sources(nativefiledialog PRIVATE "src/nfd_zenity.c")
        endif ()
    else ()
        target_sources(nativefiledialog PRIVATE "src/nfd_zenity.c")
    endif ()
elseif (${CMAKE_SYSTEM_NAME} MATCHES "Darwin")
	target_sources(nativefiledialog PRIVATE "src/nfd_cocoa.m")
endif ()
target_include_directories(nativefiledialog PUBLIC "include" PRIVATE "include/nativefiledialog/")